<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>README.html</title>

</head>

<body>

<h2>wiki_relevance.py (wiki_relevance_module.py)</h2>

<h2>概要</h2>

<p>２つのwikipediaのページの関連度を計算します。 <br />
声優同士の関連度の計算が目的。 <br />
声優以外のワードでも可能? <br />
wiki_relevance_module.pyはこのプログラムをモジュール化したものです。  </p>

<h2>実行</h2>

<p><code>
$python3 wiki_relevance.py "声優1" "声優2"
</code></p>

<p>声優を2人入力すると、それぞれの関連度を求めます。</p>

<h2>note</h2>

<ul>
<li>手法としては、それぞれのページのリンクとなっている言葉を抽出、２つのページ間で一致するリンクワードから関連度を調べます。</li>
<li>一致度としてJaccard係数を用いています。他の方法のほうが良いかも。</li>
<li><p>単純に同じワードが多いほうが関連度は大きくなります。</p></li>
<li><p>単語ごとに重みをつけたほうが良いかも。</p></li>
<li>~~あと、ページ間で最短何リンクでたどり着けるかを考慮したほうが良いかも。~~ <br />
最短リンク数は声優を2つページを声優と仮定しているので1、2くらいにはなるはずなので、これはとりあえず無視。  </li>
<li>いろいろ先行研究があるのでそれを加えてみる。  </li>
<li>そのままでは関連度の値が小さいので規格化したほうが良いかも。  </li>
<li>wikipediaからアニメ作品の情報を持ってくるプログラムからキャストを取ってきて、 <br />
このプログラムに渡し、解析まで自動化したい。 <br />
→MDSまでは自動化完了</li>
</ul>

<h2>実行結果</h2>

<p>```
$ python3 wiki_relevance.py "悠木碧" "斎藤千和" <br />
0.0682800345721694  </p>

<p>$ python3 wiki_relevance.py "悠木碧" "悠木碧" <br />
1.0  </p>

<p>$ python3 wiki_relevance.py "悠木碧" "喜多村英梨" <br />
0.08037825059101655  </p>

<p>$ python3 wiki_relevance.py "悠木碧" "水橋かおり" <br />
0.04866412213740458  </p>

<p>$ python3 wiki_relevance.py "杉田智和" "中村悠一" <br />
0.1028533510285335  </p>

<p>$ python3 wiki_relevance.py "茅野愛衣" "島本須美" <br />
0.012263099219620958 <br />
 ```</p>

<p>関連度は低そうな人同士では0.01、関連度が高そうな人同士でも0.1となり、 <br />
おおよそこのくらいの範囲に収まる模様。 <br />
関連度の最大値は１になります。  </p>

<h2>実行結果(追加)</h2>

<p>```
$ python3 wiki_relevance.py "悠木碧" "斎藤千和" <br />
1.166830897936477  </p>

<p>$ python3 wiki_relevance.py "悠木碧" "悠木碧" <br />
0.0  </p>

<p>$ python3 wiki_relevance.py "悠木碧" "喜多村英梨" <br />
1.091308325848836  </p>

<p>$ python3 wiki_relevance.py "悠木碧" "水橋かおり" <br />
1.3140325399303059  </p>

<p>$ python3 wiki_relevance.py "杉田智和" "中村悠一" <br />
0.9877815541443403  </p>

<p>$ python3 wiki_relevance.py "茅野愛衣" "島本須美" <br />
1.9128498242810998 <br />
```</p>

<ul>
<li>類似度の値が小さかったので対数変換しました。  </li>
<li>類似度の逆数を対数変換してます。  </li>
<li>逆数なので声優間の類似度というより、距離(非類似度)となります。  </li>
<li>見やすくなった気もしないこともない。  </li>
</ul>

<h2>wiki_relevance_anime_title.py</h2>

<h2>概要</h2>

<p>wiki_relevance.pyと同様に、２つのwikipediaのページの関連度を計算します。 <br />
wiki_relevance.pyでは、本文すべてのリンクを抽出してましたが、 <br />
本プログラムは抽出リンクを出演作品(アニメ)からのみに限定してます。</p>

<h2>実行</h2>

<p><code>
$python3 wiki_relevance_anime_title.py "声優1" "声優2"
</code></p>

<p>声優を2人入力すると、それぞれの関連度を求めます。</p>

<h2>note</h2>

<ul>
<li>声優同士の出演作品が被っているほど関連度は大きくなります。  </li>
<li>wiki_relevance_anime_title.pyと同様に、そのままでは関連度の値が小さいので規格化したほうが良いかも。  </li>
</ul>

<h2>実行結果</h2>

<p>```
$ python3 wiki_relevance_anime_title.py "悠木碧" "斎藤千和" <br />
0.049342105263157895  </p>

<p>$ python3 wiki_relevance_anime_title.py "悠木碧" "悠木碧" <br />
1.0  </p>

<p>$ python3 wiki_relevance_anime_title.py "悠木碧" "喜多村英梨" <br />
0.0625  </p>

<p>$ python3 wiki_relevance_anime_title.py "悠木碧" "水橋かおり" <br />
0.028708133971291867  </p>

<p>$ python3 wiki_relevance_anime_title.py "杉田智和" "中村悠一" <br />
0.09064327485380116  </p>

<p>$ python3 wiki_relevance_anime_title.py "茅野愛衣" "島本須美" <br />
0.014705882352941176 <br />
```</p>

<p>wiki_relevance.pyの結果とそんな変わらないように見える。 <br />
出演作品から類似声優を見つけたいなら、こっちのほうが正確かもしれません。  </p>

<h2>mds.py</h2>

<h2>概要</h2>

<p>声優同士の関連度を多次元尺度構成法(MDS)を用いて <br />
グラフを描写します。 <br />
wiki_relevance.pyの結果を用いています。  </p>

<h2>モジュール</h2>

<ul>
<li>make_matrix.py
MDSに必要な行列を計算します。  </li>
<li>wiki_relevance_module.py
声優同士の距離を求めます。  </li>
</ul>

<h2>実行例</h2>

<p>make_matrix.pyに関連度を計算したい声優を渡す。 <br />
(とりあえずプログラムに直接書き込む方法) <br />
今回は以下の声優を与える。 <br />
["悠木碧","斎藤千和","喜多村英梨","水橋かおり","野中藍","加藤英美里"]</p>

<h2>実行</h2>

<p><code>
$python3 mds.py
</code></p>

<h2>結果</h2>

<p>結果表示のあと、./figure ディレクトリにグラフが生成される  </p>

<p><img src="figure/mds_test.png" width="500px"></p>

<ul>
<li>声優間の距離が近い声優ほど近くに配置されます。  </li>
<li><p>プロットされたそれぞれの点の位置関係を見るものなので、 <br />
縦軸、横軸は気にしないでください。  </p></li>
<li><p>グラフのラベルは、与えた声優の順番に対応してます。 <br />
今回は、["悠木碧","斎藤千和","喜多村英梨","水橋かおり","野中藍","加藤英美里"]を与えたので、 <br />
悠木碧=0, 斎藤千和=1, 喜多村英梨=2, ..... , <br />
となります。  </p></li>
<li>ちょっと数が少ないので、もう少し与える声優の数を増やしてみます。</li>
<li>pythonの遅さが目立ってきた....</li>
</ul>

<h2>結果(追加)</h2>

<ul>
<li>twitterフォロワー上位50人を与えて見ました(少し省いてる人もいます)。  </li>
<li>与えたデータはcv_list.datに記述してます。  </li>
<li>以下のデータを与えてます。(見やすいように数字を振ってます) <br />
0:杉田智和', '1:中村悠一', '2:諏訪部順一', '3:南條愛乃', '4:田村ゆかり', '5:谷山紀章', '6:小野賢章', '7:三森すずこ', <br />
'8:井上麻里奈', '9:竹達彩奈', '10:安元洋貴', '11:森久保祥太郎', '12:江口拓也', '13浪川大輔', '14:木村良平', '15:島崎信長', <br />
'16:代永翼', '17:内田彩', '18:平野綾', '19:新田恵海', '20:上坂すみれ', '21:徳井青空', '22:大塚明夫', '23:楠田亜衣奈', <br />
'24:小野友樹', '25:喜多村英梨', '26:加藤英美里', '27:関智一', '28:蒼井翔太', '29:梶裕貴', '30:植田佳奈', '31:今井麻美', <br />
'32:保志総一朗', '33:花江夏樹', '34:田中理恵 (声優)', '35:緒方恵美', '36:小松未可子', '37:津田健次郎', '38:佐藤利奈', <br />
'39:山寺宏一', '40:置鮎龍太郎', '41:下田麻美', '42:吉野裕行', '43:中田譲治', '44:山口勝平', '45:福圓美里', '46:井上和彦 (声優)' <br />
<img src="figure/mds_top50.png" width="550px">  </li>
<li>グラフの見方は上記と同様です。  </li>
<li>なんとなくクラスタになってるような気がする。</li>
<li>関連してる声優同士もちゃんと固まって配置されている気がする。  </li>
<li>点のラベルが重なって見づらい。  </li>
<li>pythonだとめっちゃ時間かかる。</li>
</ul>

<h2>結果(追加2)</h2>

<ul>
<li>上記のグラフで、なんとなくクラスタに分かれているようだったので、軸を追加して見ました。  </li>
<li>与えたデータは上記と同様で次のようになります。 <br />
0:杉田智和', '1:中村悠一', '2:諏訪部順一', '3:南條愛乃', '4:田村ゆかり', '5:谷山紀章', '6:小野賢章', '7:三森すずこ', <br />
'8:井上麻里奈', '9:竹達彩奈', '10:安元洋貴', '11:森久保祥太郎', '12:江口拓也', '13浪川大輔', '14:木村良平', '15:島崎信長', <br />
'16:代永翼', '17:内田彩', '18:平野綾', '19:新田恵海', '20:上坂すみれ', '21:徳井青空', '22:大塚明夫', '23:楠田亜衣奈', <br />
'24:小野友樹', '25:喜多村英梨', '26:加藤英美里', '27:関智一', '28:蒼井翔太', '29:梶裕貴', '30:植田佳奈', '31:今井麻美', <br />
'32:保志総一朗', '33:花江夏樹', '34:田中理恵 (声優)', '35:緒方恵美', '36:小松未可子', '37:津田健次郎', '38:佐藤利奈', <br />
'39:山寺宏一', '40:置鮎龍太郎', '41:下田麻美', '42:吉野裕行', '43:中田譲治', '44:山口勝平', '45:福圓美里', '46:井上和彦 (声優)' <br />
<img src="figure/mds_top50_add2.png" width="550px">  </li>
<li>グラフの見方は上記と同様です。  </li>
<li>グラフの右上と左下で2つのクラスタに分かれていることがわかる。  </li>
<li>右上のクラスタは男性から構成され、左下のクラスタは女性から構成されている。 <br />
これより、青色の矢印は、男性女性を表す軸であると言える。  </li>
<li><p>女性声優で男性役をする声優やまたその逆の声優は、男性と女性クラスタの中間に配置されるかも？  </p>

<p><img src="figure/mds_top50_add1.png" width="550px">  </p></li>
<li>男性声優のクラスタでは、3つのクラスタがあるように見える。  </li>
<li>プロットされた点と声優を見比べると、右下にはベテランの声優が、左上には若手の声優が、その中間には中堅と言える声優が固まっている。 <br />
これより、赤色の矢印は、声優の若手-ベテランを表す軸であると言える。  </li>
<li>女性声優では、目立ったクラスタは形成されていないが、右下に行くほどベテラン、左上にいくほど若手という配置になっている。  </li>
</ul>

<h2>wiki_vc_active.py</h2>

<h2>概要</h2>

<p>出演したアニメ作品の数を年代ごとに表示します。</p>

<h2>実行</h2>

<p><code>
$python3 wiki_vc_active.py "声優"
</code></p>

<h2>note</h2>

<ul>
<li>詳しくは、出演したアニメ作品の数ではなく、ポイントを表示してます。  </li>
<li><p>主演アニメは３ポイント、その他は１ポイントです。  </p></li>
<li><p>声優の活躍年代から類似声優を見つけることができそう。  </p></li>
<li>年代における活躍の頻度分布の類似度を声優同士の類似度として表せそう。  </li>
</ul>

<h2>実行結果</h2>

<p>```
$ python3 wiki_vc_decate.py "坂本真綾" <br />
1996.0 4.0 <br />
1998.0 6.0 <br />
1999.0 6.0 <br />
2001.0 4.0 <br />
2002.0 10.0 <br />
2003.0 3.0 <br />
2004.0 5.0 <br />
2005.0 2.0 <br />
2006.0 11.0 <br />
2007.0 4.0 <br />
2008.0 20.0 <br />
2009.0 4.0 <br />
2010.0 19.0 <br />
2011.0 10.0 <br />
2012.0 5.0 <br />
2013.0 6.0 <br />
2014.0 11.0</p>

<p>$ python3 wiki_vc_decate.py "島本須美" <br />
1979.0 5.0 <br />
1980.0 5.0 <br />
1981.0 1.0 <br />
1982.0 3.0 <br />
1983.0 6.0 <br />
1984.0 3.0 <br />
1985.0 6.0 <br />
1986.0 23.0 <br />
1987.0 3.0 <br />
1988.0 8.0 <br />
1989.0 6.0 <br />
1990.0 7.0 <br />
1991.0 5.0 <br />
1992.0 9.0 <br />
1993.0 3.0 <br />
1994.0 4.0 <br />
1995.0 4.0 <br />
1996.0 5.0 <br />
1997.0 8.0 <br />
1998.0 4.0 <br />
1999.0 4.0 <br />
2000.0 1.0 <br />
2001.0 2.0 <br />
2002.0 5.0 <br />
2003.0 5.0 <br />
2004.0 3.0 <br />
2005.0 6.0 <br />
2006.0 2.0 <br />
2007.0 4.0 <br />
2008.0 9.0 <br />
2009.0 2.0 <br />
2010.0 1.0 <br />
2011.0 5.0 <br />
2012.0 2.0 <br />
2013.0 4.0  </p>

<p>$ python3 wiki_vc_decate.py "茅野愛衣" <br />
2010.0 3.0 <br />
2011.0 34.0 <br />
2012.0 36.0 <br />
2013.0 60.0 <br />
2014.0 55.0 <br />
2015.0 35.0  </p>

<p>```</p>

<ul>
<li>一応どの年代の人のデータも取ってこれる模様。  </li>
<li>あとは、分布間の距離でも比較したらなんかでそう。  </li>
</ul>

</body>
</html>
